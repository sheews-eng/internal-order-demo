<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Salesman Order</title>
<link rel="stylesheet" href="style.css">
</head>
<body>
<h1>Salesman Order Page</h1>

<button id="enableAudio">Enable Audio</button>
<audio id="orderSound" src="ding.mp3" preload="auto"></audio>

<div class="input-section">
  <input type="text" id="customerName" placeholder="Customer Name">
  <input type="text" id="itemCode" placeholder="Item Code">
  <input type="number" id="quantity" placeholder="Quantity" min="1">
  <input type="number" id="price" placeholder="Price" min="0" step="0.01">
  <button id="addOrder">Add Order</button>
</div>

<script type="module" src="firebase-script.js"></script>
<script type="module">
const audio = document.getElementById('orderSound');
document.getElementById('enableAudio').addEventListener('click', () => {
  audio.play().then(()=>audio.pause());
  document.getElementById('enableAudio').style.display='none';
});

document.getElementById('addOrder').addEventListener('click', () => {
  const customer = document.getElementById('customerName').value.trim();
  const item = document.getElementById('itemCode').value.trim();
  const quantity = parseInt(document.getElementById('quantity').value,10);
  const price = parseFloat(document.getElementById('price').value);

  if(!customer || !item || !quantity || isNaN(price)) return alert('Fill all fields');

  pushOrder({customer,item,quantity,price,status:'Pending',createdAt:Date.now()});

  document.getElementById('customerName').value='';
  document.getElementById('itemCode').value='';
  document.getElementById('quantity').value='';
  document.getElementById('price').value='';
});
</script>
</body>
</html>
